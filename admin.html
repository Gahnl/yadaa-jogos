<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Administrativo - ColÃ©gio Saber</title>
    <link rel="stylesheet" href="admini.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
</head>
<body>

<header>
    <img src="Assets/simbolo saber.png" alt="Logo">
    <h1>ColÃ©gio Saber IgaraÃ§u do TietÃª</h1>
</header>

<div class="container">
    <h2>Cadastrar Professor</h2>
    <div class="form-card">
        <input type="text" id="profName" placeholder="Nome do professor">
        <input type="email" id="profEmail" placeholder="E-mail">
        <input type="password" id="profSenha" placeholder="Senha">
        
        <label>Vincular Turmas e MatÃ©rias:</label>
        <div style="background: #f4f4f4; padding: 15px; border-radius: 8px; border: 1px dashed #32066d; margin-bottom: 10px;">
            
            <label>Selecione as Turmas:</label>
            <div class="multi-select" id="multiSelectTurmasAtribuicao" style="margin-bottom: 10px;">
                <div class="multi-select-field" id="fieldTurmaAtribuicao">Selecionar Turmas</div>
                <div class="multi-select-list" id="listTurmaAtribuicao" style="display:none;">
                    <label><input type="checkbox" value="1Âº ano"> 1Âº ano</label>
                    <label><input type="checkbox" value="2Âº ano"> 2Âº ano</label>
                    <label><input type="checkbox" value="3Âº ano"> 3Âº ano</label>
                    <label><input type="checkbox" value="4Âº ano"> 4Âº ano</label>
                    <label><input type="checkbox" value="5Âº ano"> 5Âº ano</label>
                    <label><input type="checkbox" value="6Âº ano"> 6Âº ano</label>
                    <label><input type="checkbox" value="7Âº ano"> 7Âº ano</label>
                    <label><input type="checkbox" value="8Âº ano"> 8Âº ano</label>
                    <label><input type="checkbox" value="9Âº ano"> 9Âº ano</label>
                </div>
            </div>

            <label>Selecione as MatÃ©rias para as turmas acima:</label>
            <div class="multi-select" id="multiSelectMateriasAtribuicao">
                <div class="multi-select-field" id="fieldMatAtribuicao">Selecionar MatÃ©rias</div>
                <div class="multi-select-list" id="listMatAtribuicao" style="display:none;">
                    <label><input type="checkbox" value="MatemÃ¡tica"> MatemÃ¡tica</label>
                    <label><input type="checkbox" value="PortuguÃªs"> PortuguÃªs</label>
                    <label><input type="checkbox" value="Arte"> Arte</label>
                    <label><input type="checkbox" value="HistÃ³ria"> HistÃ³ria</label>
                    <label><input type="checkbox" value="Geografia"> Geografia</label>
                    <label><input type="checkbox" value="InformÃ¡tica"> InformÃ¡tica</label>
                    <label><input type="checkbox" value="InglÃªs"> InglÃªs</label>
                    <label><input type="checkbox" value="CiÃªncias"> CiÃªncias</label>
                    <label><input type="checkbox" value="EducaÃ§Ã£o FÃ­sica"> EducaÃ§Ã£o FÃ­sica</label>
                    <label><input type="checkbox" value="MÃºsica"> MÃºsica</label>
                    <label><input type="checkbox" value="Espanhol"> Espanhol</label>
                </div>
            </div>
            
            <button type="button" id="btnAddAtribuicao" style="background-color: #32066d; color: #fff; width: 100%; margin-top: 15px;">+ Vincular estas turmas e matÃ©rias</button>
        </div>

        <div id="previewAtribuicoes" style="margin-bottom: 15px; font-size: 14px; color: #32066d;">
            <strong>AtribuiÃ§Ãµes Adicionadas:</strong>
            <ul id="listaAtribuidas" style="margin-top: 5px; padding-left: 20px;"></ul>
        </div>

        <button id="btnCreateProf">Finalizar Cadastro do Professor</button>
    </div>

    <hr>

    <h2>Cadastrar Aluno</h2>
    <div class="form-card">
        <input type="text" id="alunoName" placeholder="Nome do aluno">
        <input type="email" id="alunoEmail" placeholder="E-mail">
        <input type="password" id="alunoSenha" placeholder="Senha">
        <label for="alunoSerie">SÃ©rie:</label>
        <select id="alunoSerie">
            <option value="">Selecione a sÃ©rie</option>
            <option>1Âº ano</option><option>2Âº ano</option><option>3Âº ano</option>
            <option>4Âº ano</option><option>5Âº ano</option><option>6Âº ano</option>
            <option>7Âº ano</option><option>8Âº ano</option><option>9Âº ano</option>
        </select>
        <button id="btnCreateAluno">Cadastrar Aluno</button>
    </div>

    <hr>

    <h2 class="titulo-gerenciamento">Gerenciamento de UsuÃ¡rios</h2>
    <div class="toggle-container">
        <button id="btnToggleProf" class="btn-toggle">ğŸ“‚ Ver Professores</button>
        <button id="btnToggleAlunos" class="btn-toggle">ğŸ“‚ Ver Alunos</button>
    </div>

    <div id="containerProfessores" class="form-card" style="display:none;">
        <h3>Lista de Professores</h3>
        <input type="text" id="buscaProf" placeholder="ğŸ” Buscar professor...">
        <div class="table-wrapper">
            <table>
                <thead>
                    <tr><th>Nome</th><th>E-mail</th><th>AtribuiÃ§Ãµes</th><th>AÃ§Ãµes</th></tr>
                </thead>
                <tbody id="listaProfessores"></tbody>
            </table>
        </div>
    </div>

    <div id="containerAlunos" class="form-card" style="display:none;">
        <h3>Lista de Alunos</h3>
        <input type="text" id="buscaAluno" placeholder="ğŸ” Buscar aluno...">
        <div class="table-wrapper">
            <table>
                <thead>
                    <tr><th>Nome</th><th>E-mail</th><th>SÃ©rie</th><th>AÃ§Ãµes</th></tr>
                </thead>
                <tbody id="listaAlunosCadastrados"></tbody>
            </table>
        </div>
    </div>

    <hr>

    <h2>Gerar Notas e Boletins</h2>
    <div class="form-card">
        <label>Selecione a Turma:</label>
        <select id="filtroSerie">
            <option value="">Selecione a sÃ©rie</option>
            <option>1Âº ano</option><option>2Âº ano</option><option>3Âº ano</option>
            <option>4Âº ano</option><option>5Âº ano</option><option>6Âº ano</option>
            <option>7Âº ano</option><option>8Âº ano</option><option>9Âº ano</option>
        </select>

        <label>Selecione o Aluno (para Boletim):</label>
        <input type="text" id="filtroAluno" list="listaAlunos" placeholder="Nome do aluno">
        <datalist id="listaAlunos"></datalist>
        
        <div style="display: flex; gap: 10px; margin-top: 15px;">
            <button id="btnGerarLista" style="background-color: #32066d; color: #f8f008; margin:0; flex:1;">ğŸ“‚ Lista da Turma</button>
            <button id="btnVisualizarBoletim" style="background-color: #28a745; color: white; margin:0; flex:1;">ğŸ‘ï¸ Ver Boletim</button>
        </div>
    </div>

    <div id="containerListaTurma" class="form-card" style="display:none; border: 2px solid #32066d;">
        <h3 id="tituloListaTurma" style="text-align:center; color:#32066d;"></h3>
        <div class="table-wrapper">
            <table>
                <thead>
                    <tr style="background-color:#32066d; color:#f8f008;">
                        <th>Nome</th>
                        <th>E-mail</th>
                    </tr>
                </thead>
                <tbody id="corpoListaTurma"></tbody>
            </table>
        </div>
        <button onclick="document.getElementById('containerListaTurma').style.display='none'" style="background-color:#6c757d; color:white; margin-top:10px;">Fechar Lista</button>
    </div>

    <div id="areaPreview" class="form-card" style="display:none; border: 2px solid #28a745;">
        <h3 style="text-align:center;">Boletim Anual</h3>
        <p id="infoAlunoPreview" style="text-align: center; font-weight: bold;"></p>
        <div class="table-wrapper">
            <table id="tabelaPreview">
                <thead>
                    <tr style="background:#32066d; color:#fff;">
                        <th>MatÃ©ria</th><th>1ÂºB</th><th>2ÂºB</th><th>3ÂºB</th><th>4ÂºB</th><th>MÃ©dia</th><th>Faltas</th>
                    </tr>
                </thead>
                <tbody id="tabelaCorpoPreview"></tbody>
            </table>
        </div>
        <div style="display: flex; justify-content: center; gap: 10px; margin-top: 15px;">
            <button id="btnBaixarPDFConfirmado" style="background-color: #28a745; color: white; margin:0;">ğŸ“„ PDF</button>
            <button id="btnFecharPreview" style="background-color: #32066d; color: white; margin:0;">Fechar</button>
        </div>
    </div>

    <a href="index.html" class="btn-logout">Sair do sistema</a>
</div>

<footer><p>Â© 2025 - ColÃ©gio Saber IgaraÃ§u do TietÃª</p></footer>

<script type="module" src="js/admin.js"></script>
</body>
</html>